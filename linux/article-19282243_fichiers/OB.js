if(!OB){var OB={}}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.strip=function(){return this.replace(/(<([^>]+)>)/ig,"").replace(">","").replace("<","")};String.prototype.space=function(){return this.replace(/_/g," ")};OB.Utils={truncate:function(a,c,b,d){if(!a){return""}if(!c){c=80}if(!b){b="…"}if(!d){d=false}if(a.length==0){return""}if(a.length>c){c=c-b.length;if(d){a.substring(0,c+1);a.replace("/s+?(S+)?$/","")}return a.substring(0,c)+b}else{return a}},showEl:function(b,a){b=getElmt(b);if(b){if(!a){b.style.display="block"}else{switch(a){case"height":b.style.height="auto";b.style.overflow="visible";break}}}},hideEl:function(b,a){b=getElmt(b);if(b){if(!a){b.style.display="none"}else{switch(a){case"height":b.style.height=0;b.style.overflow="hidden";break}}}},destroyEl:function(a){var c=getElmt(a);if(c.parentNode){c.parentNode.removeChild(c)}else{if(a[0]){for(var b=0;a[b];b++){destroyEl(a[b])}}}},toggleEl:function(a,b){a=getElmt(a);if(!b){b="block"}if(a.style.display==b||a.style.display==""){a.style.display="none"}else{a.style.display=b}return true},trim:function(a){return a.trim()},getBrowser:function(){if(navigator.appName.indexOf("Internet Explorer")!=-1){if(navigator.appVersion.indexOf("MSIE 7")!=-1){return"ie7"}return"ie"}if(navigator.appName.indexOf("Opera")!=-1){return"op"}if(navigator.appVersion.indexOf("Safari")!=-1){return"sf"}if(navigator.appName.indexOf("Konqueror")!=-1){return"kq"}if(navigator.appCodeName.indexOf("Mozilla")!=-1){return"mz"}},confirmOnQuit:function(a){if(a){window.onbeforeunload=function(){return a};document.body.onbeforeunload=function(){return a};return true}else{window.onbeforeunload=new Function();document.body.onbeforeunload=new Function();return true}},ajaxFail:function(b){if(b.status===401){if(locales&&locales.error&&locales.error.title&&locales.error.title[b.status]){if(OB.Diablog){var a=new OB.Diablog({noButton:true});a.setTitle(locales.error.title[b.status]);a.setContent(locales.error.text[b.status]);a.addButton("ok",{className:"orange",click:function(){window.location.reload()}})}else{alert(locales.error.text[b.status]);window.location.reload()}}else{window.location.reload()}}else{window.location.reload()}},placeholders:function(){YAHOO.util.Dom.batch(YAHOO.util.Dom.getElementsBy(function(a){return a.getAttribute("placeholder")}),function(a){if(a.value===""){YAHOO.util.Dom.setStyle(a,"color","gray");YAHOO.util.Dom.setStyle(a,"font-style","italic");a.value=a.getAttribute("placeholder")}YAHOO.util.Event.on(a,"focus",function(b){if(this.value===this.getAttribute("placeholder")){try{YAHOO.util.Dom.setStyle(this,"color",null);YAHOO.util.Dom.setStyle(this,"font-style",null)}catch(b){}this.value=""}});if(!YAHOO.env.ua.ie){YAHOO.util.Event.on(a,"blur",function(b){if(this.value===""){try{YAHOO.util.Dom.setStyle(this,"color","gray");YAHOO.util.Dom.setStyle(this,"font-style","italic")}catch(b){}this.value=this.getAttribute("placeholder")}})}})},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=OB.Utils.Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=OB.Utils.Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}},decodeLinks:function(){YAHOO.util.Dom.batch(YAHOO.util.Selector.query("span.oblink"),function(c){var b=document.createElement("a");b.className=c.className;b.onclick=c.onclick;if(c.getAttribute("title").match(/&_base64/)){b.href=c.getAttribute("title")}else{b.href=OB.Utils.Base64.decode(c.getAttribute("title"))}b.title="";b.innerHTML=c.innerHTML;c.parentNode.insertBefore(b,c);c.parentNode.removeChild(c)})},preventRightClick:function(){YAHOO.util.Event.on(document,"contextmenu",function(a){YAHOO.util.Event.preventDefault(a)})},popupExtLinks:function(){var a=document.getElementsByTagName("body")[0];if(YAHOO.util.Dom.hasClass(a,"__portal")||YAHOO.util.Dom.hasClass(a,"__admin")){YAHOO.util.Dom.batch(document.getElementsByTagName("a"),function(c){var b=window.location.host.split(".");var d=b[b.length-2]+"."+b[b.length-1];if(c.href.match("^http")&&!c.href.match(window.location.host+"|www."+d+"|admin."+d+"|forum."+d+"|forums."+d+"|ann."+d+"|idata."+d+"|ddata."+d+"|fdata."+d)&&!YAHOO.util.Dom.getAncestorByClassName(c,"dontpopup")){YAHOO.util.Event.on(c,"click",function(f){if(!this.onclick){YAHOO.util.Event.preventDefault(f);window.open(this)}})}})}}};YAHOO.util.Event.onDOMReady(function(a){OB.Utils.placeholders();OB.Utils.decodeLinks();OB.Utils.popupExtLinks();YAHOO.util.Event.on(YAHOO.util.Selector.query(".notification .close a"),"click",function(b){YAHOO.util.Event.preventDefault(b);YAHOO.util.Dom.setStyle(YAHOO.util.Dom.getAncestorByClassName(this,"notification"),"display","none")})});OB.Utils.Shortener={uris:{},onSet:new YAHOO.util.CustomEvent("shortenedUriSet",OB.Bar),get:function(c,e,d,a){OB.Utils.Shortener.onSet.unsubscribeAll();if(e){OB.Utils.Shortener.onSet.subscribe(e,d,a)}if(OB.Utils.Shortener.uris[c]){OB.Utils.Shortener.onSet.fire(OB.Utils.Shortener.uris[c])}else{var b=document.createElement("script");b.type="text/javascript";b.src="http://0z.fr/OB.Utils.Shortener.set?~"+OB.Utils.Base64.encode(c);document.body.appendChild(b)}},set:function(b,c,a){OB.Utils.Shortener.uris[OB.Utils.Base64.decode(a)]=b+c;OB.Utils.Shortener.onSet.fire(b+c)}};
if(!OB){var OB={}}(function(){OB.Cache={};OB.Diablogs=new Array();OB.Diablog=function(params){this.dialog;this.init(params);this.noEnter=false;this.onAjaxLoaded=new YAHOO.util.CustomEvent("onAjaxLoaded",this);OB.Diablogs.push(this)};OB.Diablog.LABEL_CLOSE="close";OB.Diablog.TYPE_OK="diablog_ok";OB.Diablog.TYPE_ERROR="diablog_error";OB.Diablog.prototype={init:function(params){if(!params){params={}}this.modal=document.createElement("div");YAHOO.util.Dom.setStyle(this.modal,"background","black");YAHOO.util.Dom.setStyle(this.modal,"opacity",0);YAHOO.util.Dom.setStyle(this.modal,"top",0);YAHOO.util.Dom.setStyle(this.modal,"left",0);YAHOO.util.Dom.setStyle(this.modal,"height",YAHOO.util.Dom.getDocumentHeight()+"px");YAHOO.util.Dom.setStyle(this.modal,"width",YAHOO.util.Dom.getDocumentWidth()+"px");YAHOO.util.Dom.setStyle(this.modal,"position","absolute");var zindex=0;YAHOO.util.Dom.batch(document.getElementsByTagName("*"),function(el){var zi=parseInt(YAHOO.util.Dom.getStyle(el,"z-index"));if(zi>zindex){zindex=zi}if(zindex>299999){zindex=299999}});YAHOO.util.Dom.setStyle(this.modal,"z-index",zindex);this.modal.dialog=this;document.body.appendChild(this.modal);this.dialog=document.createElement("div");this.dialog.dialog=this;if(params.width){YAHOO.util.Dom.setStyle(this.dialog,"width",typeof params.width=="string"?params.width:parseInt(params.width)+"px")}YAHOO.util.Dom.setStyle(this.dialog,"z-index",zindex+1);this.dialog.className="diablog";if(params.className){this.dialog.className+=" "+params.className}this.dialog.titleCtn=document.createElement("div");this.dialog.titleCtn.className="title";this.dialog.appendChild(this.dialog.titleCtn);this.dialog.contentCtn=document.createElement("div");this.dialog.contentCtn.className="content";this.dialog.appendChild(this.dialog.contentCtn);this.dialog.buttonsCtn=document.createElement("div");this.dialog.buttonsCtn.className="buttons";this.dialog.appendChild(this.dialog.buttonsCtn);this.dialog.buttons=new Array();if(!params.noButton){this.addButton(OB.Diablog.LABEL_CLOSE,{click:function(){this.close()},className:"",scope:this})}document.body.appendChild(this.dialog);YAHOO.util.Dom.setStyle(this.dialog,"opacity",0);this.center();(new YAHOO.util.Anim(this.modal,{opacity:{to:0.5}},0.25)).animate();(new YAHOO.util.Anim(this.dialog,{opacity:{to:1}},0.25)).animate();if(!params.noEsc){YAHOO.util.Event.addListener(window,"keydown",function(e,dialog){if(e.keyCode==e.DOM_VK_ESCAPE||e.keyCode==27){dialog.close()}},this)}YAHOO.util.Event.purgeElement(this.dialog,null,"keydown");if(!params.noEnter){YAHOO.util.Event.addListener(this.dialog,"keydown",function(e,dialog){if(e.keyCode==13&&(!e.target||e.target.nodeName.toLowerCase()!="textarea")&&!this.dialog.noEnter){YAHOO.util.Event.preventDefault(e);dialog.getDefaultButton().click()}},this)}YAHOO.util.Dom.batch(YAHOO.util.Dom.getElementsBy(function(el){return el.nodeName.toLowerCase()=="embed"||el.nodeName.toLowerCase()=="object"||el.nodeName.toLowerCase()=="select"}),function(el){YAHOO.util.Dom.setStyle(el,"visibility","hidden")});this.nocache=params.nocache},getDefaultButton:function(){var dftBtn=false;for(var i=0;this.dialog.buttons[i];i++){if(this.dialog.buttons[i].isDefault){dftBtn=this.dialog.buttons[i]}}if(!dftBtn){dftBtn=this.dialog.buttons[i-1]}return dftBtn},center:function(){YAHOO.util.Dom.setStyle(this.dialog,"position","absolute");YAHOO.util.Dom.setStyle(this.getCtnEl(),"height","auto");var reg=YAHOO.util.Dom.getRegion(this.getCtnEl());if((reg.bottom-reg.top)>YAHOO.util.Dom.getViewportHeight()){var outerHeight=this.getOuterHeight();YAHOO.util.Dom.setStyle(this.getCtnEl(),"height",(YAHOO.util.Dom.getViewportHeight()-outerHeight-80)+"px");YAHOO.util.Dom.setStyle(this.getCtnEl(),"overflow","auto")}else{YAHOO.util.Dom.setStyle(this.dialog,"height","auto")}r=YAHOO.util.Dom.getRegion(this.dialog);YAHOO.util.Dom.setStyle(this.dialog,"left",parseInt((YAHOO.util.Dom.getViewportWidth()/2)-((r.right-r.left)/2)+YAHOO.util.Dom.getDocumentScrollLeft())+"px");YAHOO.util.Dom.setStyle(this.dialog,"top",parseInt((YAHOO.util.Dom.getViewportHeight()/2)-((r.bottom-r.top)/2)+YAHOO.util.Dom.getDocumentScrollTop())+"px")},setTitle:function(title){if(typeof title=="string"){this.dialog.titleCtn.innerHTML=title}else{this.dialog.titleCtn.appendChild(title)}this.center()},setContent:function(content){if(typeof content=="string"){this.dialog.contentCtn.innerHTML+=content}else{this.dialog.contentCtn.appendChild(content)}YAHOO.util.Dom.batch(YAHOO.util.Dom.getElementsBy(function(el){return el.nodeName.toLowerCase()=="embed"||el.nodeName.toLowerCase()=="object"||el.nodeName.toLowerCase()=="select"},null,this.dialog.contentCtn),function(el){YAHOO.util.Dom.setStyle(el,"visibility","visible")});this.center()},flushContent:function(){while(this.dialog.contentCtn.firstChild){this.dialog.contentCtn.removeChild(this.dialog.contentCtn.firstChild)}},setContentFromAjax:function(uri,success,successParams){document.write=function(a){return};this._uri=uri;this._success=success;this._successParams=successParams;this.flushContent();if(!this.nocache&&OB.Cache[this._uri]){this.setContent(OB.Cache[this._uri]);if(typeof this._success=="function"){this._success.apply(this,[this._successParams])}this._evalJSFromAjax(this.getEl().contentCtn);this.onAjaxLoaded.fire(this)}else{var wait=document.createElement("div");wait.className="wait";this.setContent(wait);if(this._ajax){this._ajax.cancel()}this._ajax=YAHOO.util.Connect.asyncRequest("get",this._uri,{success:function(o){this.flushContent();var body=o.responseText.replace(/\s+/gm," ").match(/<body[^>]*>(.*)<\/body>/gi);if(body){body=body[0].replace(/<body[^>]*>/gi,"");body=body.replace(/<\/body>/gi,"")}else{body=o.responseText}this.setContent(body);if(typeof this._success=="function"){this._success.apply(this,[this._successParams])}this._evalJSFromAjax(this.getEl().contentCtn);this.onAjaxLoaded.fire(this);OB.Cache[this._uri]=body;this._ajax=null},scope:this})}},_evalJSFromAjax:function(ctn){var scripts=ctn.getElementsByTagName("script");for(var i=0;scripts[i];i++){eval(scripts[i].text)}},addButton:function(label,params){var button=new OB.Blutton(label,params);button.dialog=this;this.dialog.buttonsCtn.appendChild(button.getEl());this.dialog.buttons.push(button);if(params.isDefault){for(var i=0;this.dialog.buttons[i];i++){if(this.dialog.buttons[i].isDefault){this.dialog.buttons[i].isDefault=false}}button.isDefault=true}},close:function(msg,params){if(!params){params={}}if(msg){params.closeicon=false;params.dontreopen=true;this.displayMessage(msg,params)}if(this.ajax){this.ajax.cancel()}var anim=new YAHOO.util.Anim(this.dialog,{opacity:{to:0}},msg?2:0.25,msg?YAHOO.util.Easing.easeInStrong:YAHOO.util.Easing.easeOut);if(params.fn){anim.afterComplete=params.fn}else{anim.afterComplete=new Function()}if(params.scope){anim.afterCompleteScope=params.scope}else{anim.afterCompleteScope=this}anim.onComplete.subscribe(function(){this.getEl().parentNode.removeChild(this.getEl());this.afterComplete.apply(this.afterCompleteScope)});anim.animate();var anim2=new YAHOO.util.Anim(this.modal,{opacity:{to:0}},msg?2:0.25,msg?YAHOO.util.Easing.easeInStrong:YAHOO.util.Easing.easeOut);anim2.onComplete.subscribe(function(){if(this.getEl()){this.getEl().parentNode.removeChild(this.getEl())}YAHOO.util.Dom.batch(YAHOO.util.Dom.getElementsBy(function(el){return el.nodeName.toLowerCase()=="embed"||el.nodeName.toLowerCase()=="object"||el.nodeName.toLowerCase()=="select"}),function(el){YAHOO.util.Dom.setStyle(el,"visibility","visible")})});anim2.animate()},displayMessage:function(msg,params){if(!params){params={}}var reg=YAHOO.util.Dom.getRegion(this.getEl());var panel=document.createElement("div");if(!params.type){params.type=OB.Diablog.TYPE_OK}YAHOO.util.Dom.addClass(panel,"fullmessage");YAHOO.util.Dom.addClass(panel,params.type);if(typeof msg=="string"){panel.appendChild(document.createTextNode(msg))}else{panel.appendChild(msg)}if(params.closeicon){panel.appendChild(document.createElement("br"));panel.appendChild(document.createElement("br"));panel.appendChild(new OB.Blutton("Ok",{className:"orange"}).getEl())}panel.dialog=this;this.noEnter=true;if(!params.close){params.close=panel}if(!params.dontreopen){YAHOO.util.Event.addListener(params.close,"click",function(e,dialog){var a=new YAHOO.util.Anim(this,{opacity:{to:0}},0.25,YAHOO.util.Easing.easeOut);a.onComplete.subscribe(function(a,b,dialog){this.parentNode.removeChild(this)},this,true);a.animate();(new YAHOO.util.Anim(this.dialog.getEl(),{height:{to:this.dialog.getEl().originalHeight},top:{to:this.dialog.getEl().originalTop}},0.25,YAHOO.util.Easing.easeOut)).animate();if(params.onClose){params.onClose.apply(this.dialog)}this.noEnter=false},this,panel)}YAHOO.util.Dom.setStyle(panel,"opacity",0);YAHOO.util.Dom.setStyle(panel,"cursor","pointer");(new YAHOO.util.Anim(panel,{opacity:{to:1}},0.25,YAHOO.util.Easing.easeOut)).animate();this.getEl().contentCtn.appendChild(panel);this.getEl().originalHeight=reg.bottom-reg.top;this.getEl().originalTop=parseInt(YAHOO.util.Dom.getStyle(this.getEl(),"top"));reg=YAHOO.util.Dom.getRegion(panel);var panelHeight=reg.bottom-reg.top-10;YAHOO.util.Dom.setStyle(this.getEl(),"overflow","hidden");(new YAHOO.util.Anim(this.getEl(),{height:{to:panelHeight},top:{to:this.getEl().originalTop+(this.getEl().originalHeight-panelHeight)/2}},0.25,YAHOO.util.Easing.easeOut)).animate()},getEl:function(){return this.dialog},getCtnEl:function(){return this.dialog.contentCtn},getOuterHeight:function(){var reg1=YAHOO.util.Dom.getRegion(this.getEl().titleCtn);var reg2=YAHOO.util.Dom.getRegion(this.getEl().buttonsCtn);return(reg1.bottom-reg1.top)+(reg1.bottom-reg1.top)}};OB.Bluttons=new Array();OB.Blutton=function(label,params){this.label=label;this.el;this.active=true;if(!params){params={}}this.init(params)};OB.Blutton.LABEL_DEACTIVATED="…";OB.Blutton.prototype={init:function(params){if(typeof this.label=="string"){this.el=document.createElement("span");this.el.className="ob-button";if(params.className){this.el.className+=" "+params.className}this.el.firstchild=document.createElement("span");this.el.firstchild.className="first-child";this.el.firstchild.b=document.createElement("button");this.el.firstchild.b.appendChild(document.createTextNode(this.label));this.el.firstchild.appendChild(this.el.firstchild.b);this.el.appendChild(this.el.firstchild)}else{if(this.label.nodeName.toLowerCase()==="button"||this.label.nodeName.toLowerCase()==="input"||this.label.nodeName.toLowerCase()==="a"){this.el=this.label.parentNode.parentNode;this.el.firstchild=this.label.parentNode;this.el.firstchild.b=this.label;if(this.label.nodeName.toLowerCase()==="input"){this.label=this.label.value}else{this.label=this.label.innerHTML}}else{throw"label must be a string or an encapsuled input/button/a"}}if(params.click){this.fn=params.click;if(params.scope){scope=params.scope}else{scope=this}YAHOO.util.Event.addListener(this.el,"click",function(e,obj,params){this.fn.apply(obj.scope,[e,obj.params])},{scope:scope,button:this,params:params.params},this)}},getEl:function(){return this.el},deactivate:function(){this._clickEvents=YAHOO.util.Event.getListeners(this.el,"click");YAHOO.util.Event.purgeElement(this.el,false,"click");YAHOO.util.Dom.addClass(this.el,"active");var reg=YAHOO.util.Dom.getRegion(this.el.firstchild.b);YAHOO.util.Dom.setStyle(this.el.firstchild.b,"width",(reg.right-reg.left)+"px");YAHOO.util.Dom.setStyle(this.el.firstchild.b,"padding","0");if(this.el.firstchild.b.nodeName.toLowerCase()==="input"){this.el.firstchild.b.value=OB.Blutton.LABEL_DEACTIVATED}else{this.el.firstchild.b.removeChild(this.el.firstchild.b.firstChild);this.el.firstchild.b.appendChild(document.createTextNode(OB.Blutton.LABEL_DEACTIVATED))}this.el.firstchild.b.blur();this.active=false},reactivate:function(){YAHOO.util.Dom.removeClass(this.el,"active");if(this.el.firstchild.b.nodeName.toLowerCase()==="input"){this.el.firstchild.b.value=this.label}else{this.el.firstchild.b.removeChild(this.el.firstchild.b.firstChild);this.el.firstchild.b.appendChild(document.createTextNode(this.label))}if(this._clickEvents){for(var i=0;this._clickEvents[i];i++){YAHOO.util.Event.addListener(this.el,this._clickEvents[i].type,this._clickEvents[i].fn,this._clickEvents[i].obj,this._clickEvents[i].scope)}}this.active=true},click:function(){var evts=YAHOO.util.Event.getListeners(this.el,"click");for(var i=0;evts[i];i++){evts[i].fn.apply(evts[i].scope,[evts[i],evts[i].obj])}}}})();
if(!OB){var OB={}}OB.vars={};OB.vars.lang;OB.rewriteHost=function(a){return a.replace(/^(http:\/\/)(.*?)(\/.*?)$/,"$1"+window.location.host+"$3")};YAHOO.util.Event.onDOMReady(function(){var dialogs=YAHOO.util.Dom.getElementsByClassName("linkAddComment","a");var recommands=YAHOO.util.Dom.getElementsByClassName("linkRecommend","a");YAHOO.util.Dom.setStyle(recommands,"visibility","visible");dialogs.push(recommands);YAHOO.util.Event.addListener(dialogs,"click",function(e){YAHOO.util.Event.preventDefault(e);var isComment=YAHOO.util.Dom.hasClass(this,"linkAddComment");var d=new OB.Diablog({width:540,noButton:true,noEnter:true,nocache:true});d.isComment=isComment;d.setTitle(this.innerHTML.replace(/\s{2}/gi,"").substr(0,1).toUpperCase()+this.innerHTML.replace(/\s{2}/gi,"").substr(1).toLowerCase());d.setContentFromAjax(OB.rewriteHost(this.href)+"&ajax=1",function(a){if(this.getEl().getElementsByTagName("h2").length==0){this.addButton(OB.Diablog.LABEL_CLOSE,{click:function(){this.close()},scope:this});return}var legend=this.getEl().getElementsByTagName("h2")[0];this.setTitle(legend.innerHTML);legend.parentNode.removeChild(legend);var f=this.getEl().getElementsByTagName("form")[0];var inputs;try{if(!f.ajaxkeys){throw"no ajaxkey"}eval("inputs = "+f.ajaxkeys.value)}catch(e){inputs={}}f.keys={};for(i in inputs){var key;if(key=i.match(/^_(.*)$/)){f.keys[key[1]]=f[inputs[i]]}}var defaultForm=YAHOO.util.Dom.getElementsByClassName("default","form",this.getEl());if(defaultForm.length==0){defaultForm=this.getEl().getElementsByTagName("form")}var reset=false;var submit=false;if(defaultForm.length!=0){defaultForm=defaultForm[0];var ipts=defaultForm.getElementsByTagName("input");for(var i=0;ipts[i];i++){if(ipts[i].getAttribute("type")=="reset"){reset=ipts[i]}if(ipts[i].getAttribute("type")=="submit"){submit=ipts[i];var hiddenSubmit=document.createElement("input");hiddenSubmit.name=submit.name;hiddenSubmit.value=submit.value;hiddenSubmit.type="hidden";defaultForm.appendChild(hiddenSubmit)}}}if(reset){reset.parentNode.removeChild(reset);this.addButton(reset.value,{click:function(){this.close()},scope:this})}if(this.isComment){f.editor=YAHOO.util.Dom.hasClass(f.keys.comment,"OB_Editor");if(f.editor){f.keys.comment.style.visibility="hidden";if(OB_Editors[0]){OB_Editors[0].destroy()}f.editor=new OB_Editor(f.keys.comment,{toolbar:OB_Editor.TOOLBAR_COMMENTS,width:495,bodyClass:"comment",lang:OB.vars.lang})}if(submit){submit.parentNode.removeChild(submit);this.addButton(submit.value,{click:function(){f=this.dialog.getEl().getElementsByTagName("form")[0];if(f.editor){f.editor.putValueInElmt()}YAHOO.util.Connect.setForm(f);var fok=true;if(f.keys.comment.value==""){fok=false;if(f.editor){YAHOO.util.Dom.setStyle([YAHOO.util.Dom.getElementsByClassName("mceLayout","table",f)[0],YAHOO.util.Dom.getElementsByClassName("mceToolbar","td",f)[0],YAHOO.util.Dom.getElementsByClassName("mceIframeContainer","td",f)[0]],"border-color","red")}else{YAHOO.util.Dom.addClass(f.keys.comment,"error")}}else{if(f.editor){YAHOO.util.Dom.setStyle([YAHOO.util.Dom.getElementsByClassName("mceLayout","table",f)[0],YAHOO.util.Dom.getElementsByClassName("mceToolbar","td",f)[0],YAHOO.util.Dom.getElementsByClassName("mceIframeContainer","td",f)[0]],"border-color","#ccc")}else{YAHOO.util.Dom.removeClass(f.editor?f.keys.comment.parentNode.getElementsByTagName("iframe")[0]:f.keys.comment,"error")}}if((f.keys.sendmail&&f.keys.sendmail.checked&&f.keys.mail.value=="")||(f.keys.mail.value!=""&&!f.keys.mail.value.match(/^((([a-z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+(\.([a-z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\-){0,61}([a-z]|[0-9])\.))*([a-z]|[0-9])([a-z]|[0-9]|\-){0,61}([a-z]|[0-9])\.)[\w]{2,4}|(((([0-9]){1,3}\.){3}([0-9]){1,3}))|(\[((([0-9]){1,3}\.){3}([0-9]){1,3})\])))$/))){fok=false;YAHOO.util.Dom.addClass(f.keys.mail,"error")}else{YAHOO.util.Dom.removeClass(f.keys.mail,"error")}if(f.keys.name.value==""){fok=false;YAHOO.util.Dom.addClass(f.keys.name,"error")}else{YAHOO.util.Dom.removeClass(f.keys.name,"error")}if(f.keys.site.value!=""&&!f.keys.site.value.match(/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]*\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/)){fok=false;YAHOO.util.Dom.addClass(f.keys.site,"error")}else{YAHOO.util.Dom.removeClass(f.keys.site,"error")}if(fok){YAHOO.util.Dom.setStyle(YAHOO.util.Dom.getElementsByClassName("infonok","p",f)[0],"visibility","hidden");this.deactivate();YAHOO.util.Connect.asyncRequest(f.method,OB.rewriteHost(f.action)+"&ajax=1",{success:function(o){try{eval("var output = "+o.responseText);if(!output.errors){this.dialog.close(output.ok,{type:OB.Diablog.TYPE_OK,fn:function(){var comsList=YAHOO.util.Dom.getElementsByClassName("commentsList","div");if(comsList[0]){var lastComs=YAHOO.util.Dom.getElementsByClassName("commentContainer","div",comsList[0]);var f=this.getEl().getElementsByTagName("form")[0];if(YAHOO.util.Dom.hasClass(comsList[0],"addEnding")){var newCom=lastComs[lastComs.length-1].cloneNode(true);newCom.id="comment"+output.comment_ref;var opt=YAHOO.util.Dom.getElementsByClassName("commentOption","div",newCom)[0];opt.innerHTML=output.text.replace("__NB__",parseInt(newCom.getElementsByTagName("a")[0].innerHTML)+1);comsList[0].appendChild(newCom)}else{if(YAHOO.util.Dom.hasClass(comsList[0],"addBeggining")){var newCom=lastComs[0].cloneNode(true);newCom.id="comment"+output.comment_ref;newCom.getElementsByTagName("div")[1].innerHTML=output.text.replace("__NB__",1);for(var i=0;lastComs[i];i++){lastComs[i].getElementsByTagName("div")[1].getElementsByTagName("a")[0].innerHTML=lastComs[i].getElementsByTagName("div")[1].getElementsByTagName("a")[0].innerHTML.replace(/[0-9]+/,i+2)}comsList[0].insertBefore(newCom,lastComs[0])}else{return}}if(OB.reloadAd){OB.reloadAd()}var resp=YAHOO.util.Dom.getElementsByClassName("responseMessage","div",newCom)[0];var respO=YAHOO.util.Dom.getElementsByClassName("responseOption","div",newCom)[0];if(resp){resp.parentNode.removeChild(resp);respO.parentNode.removeChild(respO)}if(!f.editor){f.keys.comment.value=f.keys.comment.value.replace(/<.*?>/gi,"");f.keys.comment.value=f.keys.comment.value.replace(/\n/gi,"<br />")}newCom.getElementsByTagName("div")[0].innerHTML=f.keys.comment.value;window.scrollTo(0,YAHOO.util.Dom.getRegion(newCom).top);YAHOO.util.Dom.getElementsByClassName("linkComment","a",null,function(){if(this.innerHTML.match(/[0-9]+/)){this.innerHTML=this.innerHTML.replace(this.innerHTML.match(/[0-9]+/)[0],parseInt(this.innerHTML.match(/[0-9]+/)[0])+1)}})}else{if(output.url){window.location=output.url}}}})}else{for(i in f.keys){YAHOO.util.Dom.removeClass(f[i],"error")}if(output.errors.crypto||output.errors.antispam){this.dialog.captchakey=output.crypto.key;var panel=document.createElement("div");YAHOO.util.Dom.addClass(panel,"ob_form");panel.p=document.createElement("p");panel.p.appendChild(document.createTextNode(output.crypto.text));YAHOO.util.Dom.setStyle(panel.p,"font-size","14px");panel.captcha=new Image();panel.captcha.src=output.crypto.image;YAHOO.util.Dom.setStyle(panel.captcha,"margin","5px");panel.input=document.createElement("input");panel.input.setAttribute("type","text");panel.input.name="captcha";YAHOO.util.Dom.setStyle(panel.input,"font-size","12px");YAHOO.util.Dom.setStyle(panel.input,"width","50px");YAHOO.util.Dom.addClass(panel.input,"text");panel.submit=new OB.Blutton("Ok",{className:"orange"});YAHOO.util.Dom.setStyle([panel.captcha,panel.input,panel.submit.getEl()],"vertical-align","middle");panel.appendChild(panel.p);panel.appendChild(panel.captcha);panel.appendChild(panel.input);panel.appendChild(panel.submit.getEl());this.dialog.displayMessage(panel,{type:OB.Diablog.TYPE_ERROR,close:panel.submit.getEl(),onClose:function(){var inputs=this.getEl().getElementsByTagName("input");for(var i=0;inputs[i];i++){if(inputs[i].name=="captcha"){this.captcha=inputs[i].value;this.getDefaultButton().click();return}}}});panel.input.focus();YAHOO.util.Event.addListener(panel.input,"keydown",function(e,dialog){if(e.keyCode==13){this.submit.click()}},panel,true)}else{for(i in output.errors){if(f.keys[i]){YAHOO.util.Dom.addClass(f.keys[i],"error")}}}}}catch(e){}this.reactivate()},failure:function(o){this.reactivate()},scope:this},(this.dialog.captchakey?"spmk="+this.dialog.captchakey+"&SpamKeyU="+this.dialog.captcha:""))}else{YAHOO.util.Dom.setStyle(YAHOO.util.Dom.getElementsByClassName("infonok","p",f)[0],"visibility","visible")}},className:"orange",isDefault:true})}}else{var f3=this.getEl().getElementsByTagName("form")[0];var list=YAHOO.util.Dom.getElementsByClassName("list","div",f3)[0];list.dialog=this;list.ul=document.createElement("ul");list.appendChild(list.ul);list.addItem=function(item){if(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.getAncestorByTagName(list,"form"),"display")=="none"){list.parentForm=YAHOO.util.Dom.getAncestorByTagName(list,"form");var diablogEl=YAHOO.util.Dom.getAncestorByClassName(list.parentForm,"diablog");var reg=YAHOO.util.Dom.getRegion(diablogEl);YAHOO.util.Dom.setStyle(list.parentForm,"left",reg.right-reg.left+"px");reg=YAHOO.util.Dom.getRegion(YAHOO.util.Dom.getElementsByClassName("title","div",diablogEl)[0]);YAHOO.util.Dom.setStyle(list.parentForm,"top",(reg.bottom-reg.top)+"px");YAHOO.util.Dom.setStyle(list.parentForm,"position","absolute");YAHOO.util.Dom.setStyle(list,"height",0);(new YAHOO.util.Anim(list,{height:{from:0,to:290}},0.25,YAHOO.util.Easing.easeOut)).animate();YAHOO.util.Dom.setStyle(list.parentForm,"display","block");reg=YAHOO.util.Dom.getRegion(list.parentForm);(new YAHOO.util.Anim(diablogEl,{width:{by:reg.right-reg.left+15}},0.25,YAHOO.util.Easing.easeOut)).animate();(new YAHOO.util.Anim(diablogEl,{left:{by:-(reg.right-reg.left+15)/2}},0.25,YAHOO.util.Easing.easeOut)).animate()}var line=document.createElement("li");if(this.getElementsByTagName("li").length>0&&!YAHOO.util.Dom.hasClass(this.getElementsByTagName("li")[this.getElementsByTagName("li").length-1],"alt")){line.className="alt"}line.span=document.createElement("span");line.checkbox=document.createElement("input");line.checkbox.setAttribute("type","checkbox");line.checkbox.className="checkbox";line.checkbox.value=item.email;line.checkbox.checked=item.checked;YAHOO.util.Dom.generateId(line.checkbox);line.span.appendChild(line.checkbox);line.appendChild(line.span);line.label=document.createElement("label");line.label.setAttribute("for",line.checkbox.id);line.label.setAttribute("title",item.email);line.label.appendChild(document.createTextNode(item.name!=""?item.name:item.email));line.appendChild(line.label);this.ul.appendChild(line);line.checkbox.checked=item.checked;YAHOO.util.Event.addListener(line.checkbox,"click",function(e,obj){var nbMails=0;var inputs=this.parentNode.parentNode.parentNode.getElementsByTagName("input");for(var i=0;inputs[i];i++){if(inputs[i].checked){nbMails++}}if(nbMails>19){obj.list.disableUncheckedItems(obj.dialog)}else{obj.list.enableUncheckedItems()}},{dialog:this.dialog,list:this});if(item.checked){var ev=YAHOO.util.Event.getListeners(line.checkbox,"click")[0];ev.fn.apply(this,[ev,ev.obj])}};list.disableUncheckedItems=function(dial){YAHOO.util.Dom.setStyle(YAHOO.util.Dom.getElementsByClassName("maxitems","span")[0],"color","red");var items=this.getElementsByTagName("li");for(var i=0;items[i];i++){YAHOO.util.Dom.removeClass(items[i],"disabled");if(!items[i].getElementsByTagName("input")[0].checked){YAHOO.util.Dom.addClass(items[i],"disabled");items[i].getElementsByTagName("input")[0].setAttribute("disabled","disabled");if(dial&&locales&&locales.recommand_20max){YAHOO.util.Event.addListener(items[i],"click",function(){dial.displayMessage(locales.recommand_20max,{type:OB.Diablog.TYPE_ERROR,closeicon:true})})}}}};list.enableUncheckedItems=function(){YAHOO.util.Dom.setStyle(YAHOO.util.Dom.getElementsByClassName("maxitems","span")[0],"color","white");var items=this.getElementsByTagName("li");for(var i=0;items[i];i++){YAHOO.util.Dom.removeClass(items[i],"disabled");items[i].getElementsByTagName("input")[0].removeAttribute("disabled");YAHOO.util.Event.removeListener(items[i],"click")}};var f2=this.getEl().getElementsByTagName("form")[2];YAHOO.util.Event.addListener(f2,"submit",function(e){YAHOO.util.Event.preventDefault(e);var fok=true;if(this.email.value==""){YAHOO.util.Dom.addClass(this.email,"error");fok=false}else{YAHOO.util.Dom.removeClass(this.email,"error")}if(this.password.value==""){YAHOO.util.Dom.addClass(this.password,"error");fok=false}else{YAHOO.util.Dom.removeClass(this.password,"error")}if(fok&&!this.importbtn.oldLabel){this.importbtn.oldLabel=this.importbtn.value;this.importbtn.value="…";YAHOO.util.Dom.addClass(this.importbtn.parentNode.parentNode,"active");YAHOO.util.Connect.setForm(f2);YAHOO.util.Connect.asyncRequest(this.method,OB.rewriteHost(this.action),{success:function(o){if(o.responseText==""){return}eval("var output = "+o.responseText);this.contacts=[];for(var i in output){var isIn=false;for(var j in this.contacts){if(this.contacts[j].email==output[i].email){isIn=true}}if(!isIn){this.contacts.push(output[i])}}var f3=this.parentNode.getElementsByTagName("form")[0];var list=YAHOO.util.Dom.getElementsByClassName("list","div",f3)[0];for(i in this.contacts){list.addItem(this.contacts[i])}this.importbtn.value=this.importbtn.oldLabel;YAHOO.util.Dom.removeClass(this.importbtn.parentNode.parentNode,"active");this.importbtn.oldLabel=false},scope:this})}});var f3=this.getEl().getElementsByTagName("form")[3];YAHOO.util.Event.addListener(f3,"submit",function(e){YAHOO.util.Event.preventDefault(e);if(!this.addemail.value.match(/^((([a-z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+(\.([a-z]|[0-9]|!|#|$|%|&|'|\*|\+|\-|\/|=|\?|\^|_|`|\{|\||\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\-){0,61}([a-z]|[0-9])\.))*([a-z]|[0-9])([a-z]|[0-9]|\-){0,61}([a-z]|[0-9])\.)[\w]{2,4}|(((([0-9]){1,3}\.){3}([0-9]){1,3}))|(\[((([0-9]){1,3}\.){3}([0-9]){1,3})\])))$/)){YAHOO.util.Dom.addClass(this.addemail,"error")}else{YAHOO.util.Dom.removeClass(this.addemail,"error");var list=YAHOO.util.Dom.getElementsByClassName("list","div",this.parentNode)[0];list.addItem({name:this.addemail.value,email:this.addemail.value,checked:true});(new YAHOO.util.Scroll(list,{scroll:{to:[0,list.ul.scrollHeight]}},0.25,YAHOO.util.Easing.easeOut)).animate();this.addemail.value=""}});YAHOO.util.Event.addListener(YAHOO.util.Dom.getElementsByClassName("uplist","a",this.getEl())[0],"click",function(e){YAHOO.util.Event.preventDefault(e);(new YAHOO.util.Scroll(this.parentNode.parentNode.getElementsByTagName("div")[0],{scroll:{to:[0,0]}},0.25,YAHOO.util.Easing.easeOut)).animate()});var customCheckbox=this.getEl().getElementsByTagName("form")[0].keys.custom;YAHOO.util.Event.addListener(customCheckbox,"click",function(o){if(this.checked){YAHOO.util.Dom.setStyle(this.parentNode.getElementsByTagName("textarea")[0],"visibility","visible");var a=new YAHOO.util.Anim(this.parentNode.getElementsByTagName("textarea")[0],{height:{to:100}},0.25,YAHOO.util.Easing.easeOut);a.onComplete.subscribe(function(){this.getEl().focus()});a.animate();(new YAHOO.util.Anim(YAHOO.util.Dom.getElementsByClassName("list","div",this.parentNode.parentNode)[0],{height:{to:190}},0.25,YAHOO.util.Easing.easeOut)).animate()}else{var a=new YAHOO.util.Anim(this.parentNode.getElementsByTagName("textarea")[0],{height:{to:0}},0.25,YAHOO.util.Easing.easeOut);a.onComplete.subscribe(function(e){YAHOO.util.Dom.setStyle(this,"visibility","hidden")},this.parentNode.getElementsByTagName("textarea")[0],true);a.animate();(new YAHOO.util.Anim(YAHOO.util.Dom.getElementsByClassName("list","div",this.parentNode.parentNode)[0],{height:{to:290}},0.25,YAHOO.util.Easing.easeOut)).animate()}});if(submit){submit.parentNode.removeChild(submit);this.addButton(submit.value,{click:function(){f=this.dialog.getEl().getElementsByTagName("form")[0];this.deactivate();var checkboxes=YAHOO.util.Dom.getElementsByClassName("list","div",f)[0].getElementsByTagName("input");f.keys.emails.value="";for(var i=0;checkboxes[i];i++){if(checkboxes[i].type=="checkbox"&&checkboxes[i].checked){f.keys.emails.value+=checkboxes[i].value+","}}if(f.keys.emails.value==""){this.reactivate();return}YAHOO.util.Connect.setForm(f);YAHOO.util.Connect.asyncRequest(f.method,OB.rewriteHost(f.action)+"&ajax=1",{success:function(o){eval("var output = "+o.responseText);if(output.ok){if(OB.reloadAd){OB.reloadAd()}this.dialog.close(output.ok,{type:OB.Diablog.TYPE_OK});return}if(output.error){this.dialog.close(output.error,{type:OB.Diablog.TYPE_ERROR});return}if(output.errors=="antispam"){this.dialog.captchakey=output.crypto.key;var panel=document.createElement("div");YAHOO.util.Dom.addClass(panel,"ob_form");panel.p=document.createElement("p");panel.p.appendChild(document.createTextNode(output.crypto.text));YAHOO.util.Dom.setStyle(panel.p,"font-size","14px");panel.captcha=new Image();panel.captcha.src=output.crypto.image;YAHOO.util.Dom.setStyle(panel.captcha,"margin","5px");panel.input=document.createElement("input");panel.input.setAttribute("type","text");panel.input.name="captcha";YAHOO.util.Dom.setStyle(panel.input,"font-size","12px");YAHOO.util.Dom.setStyle(panel.input,"width","50px");YAHOO.util.Dom.addClass(panel.input,"text");panel.submit=new OB.Blutton("Ok",{className:"orange"});YAHOO.util.Dom.setStyle([panel.captcha,panel.input,panel.submit.getEl()],"vertical-align","middle");panel.appendChild(panel.p);panel.appendChild(panel.captcha);panel.appendChild(panel.input);panel.appendChild(panel.submit.getEl());this.dialog.displayMessage(panel,{type:OB.Diablog.TYPE_ERROR,close:panel.submit.getEl(),onClose:function(){var inputs=this.getEl().getElementsByTagName("input");for(var i=0;inputs[i];i++){if(inputs[i].name=="captcha"){this.captcha=inputs[i].value;this.getDefaultButton().click();return}}}});panel.input.focus();YAHOO.util.Event.addListener(panel.input,"keydown",function(e,dialog){if(e.keyCode==13){this.submit.click()}},panel,true)}else{this.dialog.close()}this.reactivate()},failure:function(){this.reactivate()},scope:this},"email="+f.parentNode.getElementsByTagName("form")[2].email.value+(this.dialog.captcha?"&captcha="+this.dialog.captcha+"&captchakey="+this.dialog.captchakey:""))},className:"orange",isDefault:true})}}})})});YAHOO.util.Event.onDOMReady(function(){var d=document.body.getElementsByTagName("*");for(var b=0;d[b];b++){var c=d[b].getAttribute("class")?d[b].getAttribute("class"):d[b].getAttribute("className");if(typeof(c)=="string"){var e=c.split(" ");for(var a=0;e[a];a++){if(e[a]=="newWindow"){d[b].onclick=function(){window.open(this);return false}}if(e[a]=="closeWindow"){d[b].onclick=function(){window.close()}}}}}});YAHOO.util.Event.onDOMReady(function(){YAHOO.util.Dom.batch(YAHOO.util.Selector.query(".obMedia"),function(a){a.hide=function(){this.parentNode.insertBefore(this.getElementsByTagName("span")[0],this);this.parentNode.removeChild(this)};if(a.error){a.hide()}else{YAHOO.util.Event.on(a,"error",function(b){this.hide()})}if(a.nodeName.toLowerCase()==="audio"){a.setAttribute("controls",true)}else{YAHOO.util.Event.on(a,"click",function(b){if(this.paused){this.play()}else{this.pause()}})}})});function quitte(){if(window.opener){window.close();RetParam=false}else{RetParam=true}}function addOnloadEvent(b){var a=window.onload;if(a){window.onload=function(){a();b()}}else{window.onload=b}};
if(!OB){var OB={}}OB.Tooltips=new Array();OB.Tooltip=function(a,b){this.element=getElmt(a);this.panel=null;this.params=b?b:{};OB.Tooltips.push(this);this.init()};OB.Tooltip.prototype={init:function(){this.panel=this._insertInDOM();this.panel.bd.innerHTML=this.params.text?this.params.text:this.element.title?this.element.title:this.element.alt?this.element.alt:"";this.element.removeAttribute("alt");this.element.removeAttribute("title");this.hide();this.element.tooltip=this;if(this.params.fixed){YAHOO.util.Event.on(this.element,"mouseenter",function(a){this.show(a)},this,true);YAHOO.util.Event.on(this.panel,"mouseenter",function(a){this.show(a)},this,true);YAHOO.util.Event.on(this.element,"mouseleave",function(a){var b=null;if(a.toElement){b=a.toElement}else{if(a.explicitOriginalTarget){b=a.explicitOriginalTarget}}if(this.panel!=b&&this.panel!=YAHOO.util.Dom.getAncestorByClassName(b,"yui-tt")){this.hide(a)}},this,true);YAHOO.util.Event.on(this.panel,"mouseleave",function(a){this.hide(a)},this,true)}else{YAHOO.util.Event.on(this.element,"mousemove",function(a){this.show(a)},this,true);YAHOO.util.Event.on(this.element,"mouseout",function(a){this.hide(a)},this,true)}},_insertInDOM:function(){var a=document.createElement("div");a.hd=document.createElement("div");a.hd.appendChild(document.createTextNode(""));a.bd=document.createElement("div");a.bd.appendChild(document.createTextNode(""));a.ft=document.createElement("div");a.ft.appendChild(document.createTextNode(""));a.appendChild(a.hd);a.appendChild(a.bd);a.appendChild(a.ft);a.hd.className="hd";a.bd.className="bd";a.ft.className="ft";a.className="yui-tt"+(this.params.className?" "+this.params.className:"");a.style.position="absolute";a.style.display="none";this._insert=function(){try{var b=YAHOO.util.Dom.getAncestorByTagName(this.element,"body");if(!b){throw"nobody"}}catch(c){b=document.body}b.appendChild(a)};if(YAHOO.util.Event.DOMReady){this._insert()}else{YAHOO.util.Event.onDOMReady(function(b){this._insert()},this,true)}return a},hide:function(a){if(this.params.animated&&YAHOO.util.Dom.getStyle(this.panel,"opacity")!=0&&this.panel.style.display!="none"){if(this.animation){this.animation.stop()}this.animation=new YAHOO.util.Anim(this.panel,{opacity:{to:0}},0.3,YAHOO.util.Easing.EaseOut);this.animation.onComplete.subscribe(function(c,b,d){this.panel.style.display="none";YAHOO.util.Dom.setStyle(this.panel,"opacity",0)},this,true);this.animation.animate()}else{this.panel.style.display="none"}},show:function(f){try{if(this.params.animated&&YAHOO.util.Dom.getStyle(this.panel,"opacity")!=1&&this.panel.style.display=="none"){if(this.animation){this.animation.stop()}this.animation=new YAHOO.util.Anim(this.panel,{opacity:{to:1}},0.1,YAHOO.util.Easing.EaseOut);this.animation.animate()}this.panel.style.display="block";var a=_YUD.getRegion(this.panel);if(this.params.fixed){var d=_YUD.getRegion(this.element);this.panel.style.top=d.bottom+"px";this.panel.style.left=(d.left+((d.right-d.left)/2)-((a.right-a.left)/2))+"px"}else{var b=_YUE.getEvent(f);var g=_YUE.getXY(b);this.panel.style.top=(g[1]+20)+"px";this.panel.style.left=this.params.marginLeft?(g[0]-parseInt(this.params.marginLeft))+"px":(g[0]-(a.right-a.left)/2+2)+"px"}}catch(c){}},destroy:function(){this.panel.parentNode.removeChild(this.panel);this.element=null}};
